<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Module webmachine_multipart</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<hr>

<h1>Module webmachine_multipart</h1>
<ul class="index"><li><a href="#description">Description</a></li><li><a href="#types">Data Types</a></li><li><a href="#index">Function Index</a></li><li><a href="#functions">Function Details</a></li></ul>Utility for parsing multipart form bodies.
<p>Copyright © 2009 Basho Technologies</p>

<p><b>Authors:</b> Justin Sheehy (<a href="mailto:justin@basho.com"><tt>justin@basho.com</tt></a>), Andy Gross (<a href="mailto:andy@basho.com"><tt>andy@basho.com</tt></a>).</p>

<h2><a name="description">Description</a></h2>Utility for parsing multipart form bodies.
<h2><a name="types">Data Types</a></h2>

<h3 class="typedecl"><a name="type-boundary">boundary()</a></h3>
<p><tt>boundary() = string()</tt></p>
<p>The multipart boundary, as taken from the containing message's content-type.</p>

<h3 class="typedecl"><a name="type-fcontent">fcontent()</a></h3>
<p><tt>fcontent() = binary()</tt></p>
<p>The body content within a form part.</p>

<h3 class="typedecl"><a name="type-fheader">fheader()</a></h3>
<p><tt>fheader() = {binary(), binary()}</tt></p>
<p>A header name and value supplied within a form part.</p>

<h3 class="typedecl"><a name="type-fparam">fparam()</a></h3>
<p><tt>fparam() = {binary(), binary()}</tt></p>
<p>A key-value parameter from the content-disposition header in a form part.</p>

<h3 class="typedecl"><a name="type-fpart">fpart()</a></h3>
<p><tt>fpart() = {<a href="#type-fpartname">fpartname()</a>, {[<a href="#type-fparam">fparam()</a>], [<a href="#type-fheader">fheader()</a>]}, <a href="#type-fcontent">fcontent()</a>}</tt></p>
<p>A single part of a multipart form.</p>

<h3 class="typedecl"><a name="type-fpartname">fpartname()</a></h3>
<p><tt>fpartname() = string()</tt></p>
<p>The name from the form field of a form part.</p>

<h3 class="typedecl"><a name="type-incoming_req_body">incoming_req_body()</a></h3>
<p><tt>incoming_req_body() = binary()</tt></p>
<p>The request body, in "multipart/form-data" (rfc2388) form,</p>

<h2><a name="index">Function Index</a></h2>
<table width="100%" border="1" cellspacing="0" cellpadding="2" summary="function index"><tr><td valign="top"><a href="#find_boundary-1">find_boundary/1</a></td><td>Find the multipart boundary for a request.</td></tr>
<tr><td valign="top"><a href="#get_all_parts-2">get_all_parts/2</a></td><td>Turn a multipart form into component parts.</td></tr>
<tr><td valign="top"><a href="#stream_parts-2">stream_parts/2</a></td><td>Similar to get_all_parts/2, but for streamed/chunked bodies.</td></tr>
<tr><td valign="top"><a href="#test_body-0">test_body/0</a></td><td></td></tr>
<tr><td valign="top"><a href="#test_body2-0">test_body2/0</a></td><td></td></tr>
</table>

<h2><a name="functions">Function Details</a></h2>

<h3 class="function"><a name="find_boundary-1">find_boundary/1</a></h3>
<div class="spec">
<p><tt>find_boundary(ReqData::<a href="wrq.html#type-wm_reqdata">wrq:wm_reqdata()</a>) -&gt; <a href="#type-boundary">boundary()</a></tt></p>
</div><p>Find the multipart boundary for a request.</p>

<h3 class="function"><a name="get_all_parts-2">get_all_parts/2</a></h3>
<div class="spec">
<p><tt>get_all_parts(Body::<a href="#type-incoming_req_body">incoming_req_body()</a>, Boundary::<a href="#type-boundary">boundary()</a>) -&gt; [<a href="#type-fpart">fpart()</a>]</tt></p>
</div><p>Turn a multipart form into component parts.</p>

<h3 class="function"><a name="stream_parts-2">stream_parts/2</a></h3>
<div class="spec">
<p><tt>stream_parts(StreamStruct::<a href="#type-wm_stream">wm_stream()</a>, Boundary::<a href="#type-boundary">boundary()</a>) -&gt; done_parts | {<a href="#type-fpart">fpart()</a>, function()}</tt></p>
</div><p>Similar to get_all_parts/2, but for streamed/chunked bodies.
   Takes as input the result of wrq:stream_req_body/2, and provides
   either the atom 'done_parts' when no more parts are available, or
   a tuple with the next part and a function.  That function will
   have 0-arity and the same return type as stream_parts/2 itself.</p>

<h3 class="function"><a name="test_body-0">test_body/0</a></h3>
<div class="spec">
<p><tt>test_body() -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="test_body2-0">test_body2/0</a></h3>
<div class="spec">
<p><tt>test_body2() -&gt; any()</tt></p>
</div>
<hr>

<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Oct 31 2011, 12:01:27.</i></p>
</body>
</html>
